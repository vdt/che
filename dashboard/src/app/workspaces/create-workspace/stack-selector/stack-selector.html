<div class="stack-selector">
  <div layout="column" layout-aling="start center"
       layout-gt-md="row" layout-align-gt-md="start center"
       flex>

    <!-- Scope toggle -->
    <che-toggle-joined class="stack-selector-toggle"
                       ng-model="stackSelectorController.selectedScope"
                       ng-change="stackSelectorController.scopeChanged()"
                       md-theme="default"
                       flex-order="2" flex-order-gt-md="1">
      <che-toggle-joined-button che-title="All"
                                che-value="stackSelectorController.scope.ALL"></che-toggle-joined-button>
      <che-toggle-joined-button che-title="Quick Start"
                                che-value="stackSelectorController.scope.QUICK_START"></che-toggle-joined-button>
      <che-toggle-joined-button che-title="Single Machine"
                                che-value="stackSelectorController.scope.SINGLE_MACHINE"></che-toggle-joined-button>
      <che-toggle-joined-button che-title="Multi Machine"
                                che-value="stackSelectorController.scope.MULTI_MACHINE"></che-toggle-joined-button>
    </che-toggle-joined>

    <!-- Filters, Add stack and Search -->
    <div class="stack-selector-buttons-right"
         flex
         flex-offset="0" flex-offset-gt-md="5"
         flex-order="1" flex-order-gt-md="2"
         layout="row"
         layout-align="start center" layout-align-gt-md="end center">
      <toggle-single-button che-title="Filters"
                            che-font-icon="fa fa-sliders"
                            che-state="stackSelectorController.showFilters"
                            che-on-change="stackSelectorController.toggleOnChange(state)"
                            ng-class="{'stack-selector-filters-active': stackSelectorController.tagFiltersActive}"></toggle-single-button>
      <che-button-default che-button-title="Add Stack"
                          che-button-icon="material-design icon-ic_add_24px"
                          name="addStack"
                          ng-href="#/stack/create"></che-button-default>
      <search-input search-placeholder="Search"
                    search-on-change="stackSelectorController.searchChanged(search)"></search-input>
    </div>
  </div>

  <div class="stack-selector-list">
    <md-content ng-hide="stackSelectorController.stacks.length === 0 || stackSelectorController.stacksFiltered.length === 0"
                md-scroll-y flex
                md-theme="default">

      <!-- Stacks list header -->
      <md-item class="noselect" hide-xs hide-sm hide-md>
        <md-item-content>
          <div class="stack-selector-list-header">
            <div flex="100"
                 layout="row" layout-align="start stretch"
                 class="che-list-item-row">
              <div flex layout="row"
                   layout-align="start center"
                   class="che-list-item-details">
                <che-list-header-column class="stack-selector-icon-column"
                                        che-column-title=""></che-list-header-column>
                <che-list-header-column flex="auto"
                                        che-sort-value="stackSelectorController.stackOrderBy"
                                        che-sort-item="name"
                                        che-column-title="Name"></che-list-header-column>
                <che-list-header-column flex="10"
                                        che-column-title="RAM"></che-list-header-column>
                <!-- todo -->
                <!-- not implemented yet -->
                <!--<che-list-header-column flex="10"-->
                <!--che-column-title="NB Pull"></che-list-header-column>-->
              </div>
            </div>
          </div>
        </md-item-content>
      </md-item>

      <!-- Stacks list -->
      <che-list class="stack-selector-stack-list">
        <stack-selector-item
          stack="stack"
          ng-repeat="stack in stackSelectorController.stacksFiltered | orderBy:[stackSelectorController.stackOrderBy]"
          stack-icon-link="stackSelectorController.stackIconLinks[stack.id]"
          stack-machines="stackSelectorController.stackMachines[stack.id]"
          stack-id-selected="stackSelectorController.selectedStackId"
          stack-on-click="stackSelectorController.selectStack(stackId)"
          data-stack-id="{{stack.id}}"></stack-selector-item>
      </che-list>
    </md-content>

    <div class="che-list-empty">
      <span ng-show="stackSelectorController.stacks.length > 0 && stackSelectorController.stacksFiltered.length === 0">No stacks found.</span>
      <span ng-show="stackSelectorController.stacks.length === 0">There are no stacks.</span>
    </div>

  </div>

</div>
